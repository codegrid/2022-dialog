<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta name="format-detection" content="email=no,telephone=no,address=no">
<title>=^.^=</title>
<style>
body {
  font-family: sans-serif;
  background: url( "./bg.svg" );
}

.myModal {
  box-sizing: border-box;
  width: calc( 100vw - 32px );
  max-width: 640px;
  padding: 16px;
  border: 0;
  transition: opacity .5s, transform .5s;
  overscroll-behavior: none;
}

.myModal.-closing {
  opacity: 0;
  transform: scale( .9 );
}

.myModal::backdrop {
  opacity: .8;
  background: linear-gradient( #1cb5e0, #000046 );
  transition: opacity .5s;
}

.myModal.-closing::backdrop {
  opacity: 0;
}

</style>
</head>
<body>

<dialog
	class="myModal -closing"
	id="my-modal-0"
>
  <p>簡易モーダル</p>
  <p>これはモーダルの中に表示されるテキストです</p>
  <p>これはモーダルの中に表示されるテキストです</p>
  <p>これはモーダルの中に表示されるテキストです</p>
  <button
    type="button"
    onclick="closeModal( 'my-modal-0' )"
  >
    閉じる
  </button>
</dialog>

<button
  type="button"
  onclick="showModal( 'my-modal-0' )"
>
  開く
</button>

<p>吾輩は猫である。名前はまだ無い。どこで生れたかとんと見当がつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは記憶している。吾輩はここで始めて人間というものを見た。しかもあとで聞くとそれは書生という人間中で一番獰悪な種族であったそうだ。この書生というのは時々我々を捕えて煮て食うという話である。しかしその当時は何という考もなかったから別段恐しいとも思わなかった。ただ彼の掌に載せられてスーと持ち上げられた時何だかフワフワした感じがあったばかりである。掌の上で少し落ちついて書生の顔を見たのがいわゆる人間というものの見始であろう。この時妙なものだと思った感じが今でも残っている。第一毛をもって装飾されべきはずの顔がつるつるしてまるで薬缶だ。その後猫にもだいぶ逢ったがこんな片輪には一度も出会わした事がない。のみならず顔の真中があまりに突起している。そうしてその穴の中から時々ぷうぷうと煙を吹く。どうも咽せぽくて実に弱った。これが人間の飲む煙草というものである事はようやくこの頃知った。吾輩は猫である。名前はまだ無い。どこで生れたかとんと見当がつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは記憶している。吾輩はここで始めて人間というものを見た。しかもあとで聞くとそれは書生という人間中で一番獰悪な種族であったそうだ。この書生というのは時々我々を捕えて煮て食うという話である。しかしその当時は何という考もなかったから別段恐しいとも思わなかった。ただ彼の掌に載せられてスーと持ち上げられた時何だかフワフワした感じがあったばかりである。掌の上で少し落ちついて書生の顔を見たのがいわゆる人間というものの見始であろう。この時妙なものだと思った感じが今でも残っている。第一毛をもって装飾されべきはずの顔がつるつるしてまるで薬缶だ。</p>
<p>吾輩は猫である。名前はまだ無い。どこで生れたかとんと見当がつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは記憶している。吾輩はここで始めて人間というものを見た。しかもあとで聞くとそれは書生という人間中で一番獰悪な種族であったそうだ。この書生というのは時々我々を捕えて煮て食うという話である。しかしその当時は何という考もなかったから別段恐しいとも思わなかった。ただ彼の掌に載せられてスーと持ち上げられた時何だかフワフワした感じがあったばかりである。掌の上で少し落ちついて書生の顔を見たのがいわゆる人間というものの見始であろう。この時妙なものだと思った感じが今でも残っている。第一毛をもって装飾されべきはずの顔がつるつるしてまるで薬缶だ。その後猫にもだいぶ逢ったがこんな片輪には一度も出会わした事がない。のみならず顔の真中があまりに突起している。そうしてその穴の中から時々ぷうぷうと煙を吹く。どうも咽せぽくて実に弱った。これが人間の飲む煙草というものである事はようやくこの頃知った。吾輩は猫である。名前はまだ無い。どこで生れたかとんと見当がつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは記憶している。吾輩はここで始めて人間というものを見た。しかもあとで聞くとそれは書生という人間中で一番獰悪な種族であったそうだ。この書生というのは時々我々を捕えて煮て食うという話である。しかしその当時は何という考もなかったから別段恐しいとも思わなかった。ただ彼の掌に載せられてスーと持ち上げられた時何だかフワフワした感じがあったばかりである。掌の上で少し落ちついて書生の顔を見たのがいわゆる人間というものの見始であろう。この時妙なものだと思った感じが今でも残っている。第一毛をもって装飾されべきはずの顔がつるつるしてまるで薬缶だ。</p>


<script>
// 対象 <dialog> の id 名を受け取り、その <dialog> を表示する
function showModal( id ) {

  const $modal = document.getElementById( id );
  $modal.showModal();
  requestAnimationFrame( () => $modal.classList.remove( '-closing' ) );

}

// 対象 <dialog> の id 名を受け取り、その <dialog> を非表示する
function closeModal( id ) {

  const $modal = document.getElementById( id );
  $modal.addEventListener( 'transitionend', $modal.close, { once: true } )
  $modal.classList.add( '-closing' );

}

// すべての .myModal を探す
document.querySelectorAll( '.myModal' ).forEach( ( $modal ) => {
  // 見つかった .myModal 要素をクリックした場合...
  $modal.addEventListener( 'click', ( event ) => {
    // .myModal の id 属性を引数にして closeModal を実行する
    closeModal( $modal.id );
  } );
} );
</script>

</body>
</html>
